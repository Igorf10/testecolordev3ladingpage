/*
 * Obfuscated & Protected by Igor Ferraz dos Santos and <DEV¬≥>
 * Date: 2025-01-11
 * ¬© All Rights Reserved - Farma<Dev¬≥> Project
 * Unauthorized copying, modification, or distribution is strictly prohibited.
 * For licensing: igor.ferraz.trab10@gmail.com  and dev3company@gmail.com
 */
const lojasCumani=[{bairro:"Alc\xE2ntara",endereco:"RUA YOLANDA SAAD ABUSAID, 80 LOJA 09",cidade:"S\xE3o Gon\xE7alo - RJ",telefone:"(21) 99320-0614",cep:"24710460",regiao:"sao-goncalo",ifood:"https://www.ifood.com.br/delivery/sao-goncalo-rj/drogarias-cumani-alcantara-alcantara/4e6eacd9-d9ae-4d19-ad33-f0e2d8e0b294",encarte:"1FBBGNcxjG67GW8-RFkzA2UqRVjmHNzNw"},{bairro:"Anil",endereco:"EST DE JACAREPAGUA, 5940",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97780-4000",cep:"22750003",regiao:"zona-oeste",ifood:"https://www.ifood.com.br/delivery/rio-de-janeiro-rj/cumani-anil-anil/bb8cae1c-566e-4c26-a641-503b167ba3c8",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Bangu",endereco:"RUA PROFESSOR CLEMENTE FERREIRA, 1882",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99996-1900",cep:"21810240",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Bangu",endereco:"RUA SILVA CARDOSO, 436",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99996-1900",cep:"21820240",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Barra da Tijuca",endereco:"AV DAS AMERICAS, 7607",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97058-7239",cep:"22793081",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Belford Roxo",endereco:"AV JOAQUIM DA COSTA LIMA, 2025",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97936-9200",cep:"26130070",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Belford Roxo",endereco:"AV BENJAMIM PINTO DIAS, 1739",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"26130000",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Botafogo",endereco:"RUA VOLUNTARIOS DA PATRIA, 265",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97525-4664",cep:"22270000",regiao:"zona-sul",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Campo Grande",endereco:"ESTRADA DA POSSE, 558 - LOJA C",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97031-1112",cep:"23012231",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Campo Grande",endereco:"EST CARVALHO RAMOS, 2005",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3407-7272",cep:"23087000",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Campo Grande",endereco:"AV CESARIO DE MELO, 13904",cidade:"Rio de Janeiro - RJ",telefone:"(21) 96489-8202",cep:"23052102",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Campo Grande",endereco:"AV DE SANTA CRUZ, 12296",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3268-6490",cep:"23570000",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Campo Grande",endereco:"ESTRADA SANTA MARIA, 755 - LOJA C",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"23056090",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Catete",endereco:"RUA DO CATETE, 234 - LOJA A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99054-3443",cep:"22220001",regiao:"zona-sul",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Copacabana",endereco:"AV NOSSA SENHORA DE COPACABANA, 558A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3795-4352",cep:"22020001",regiao:"zona-sul",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Copacabana",endereco:"RUA BARATA RIBEIRO, 157",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99361-9252",cep:"22040001",regiao:"zona-sul",ncarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Cosmos",endereco:"RUA ACAUA, 143 - LOJ A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 96850-8118",cep:"23063160",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Cosmos",endereco:"EST DO ENCANAMENTO, 410",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98119-5537",cep:"23063030",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Duque de Caxias",endereco:"AV NILO PECANHA, 189",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3848-0027",cep:"25070250",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Duque de Caxias",endereco:"RUA PRESIDENTE ROOSEVELT, 136 -LOJA B",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98669-0129",cep:"25071190",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Guadalupe",endereco:"R MARCOS DE MACEDO, 394",cidade:"Rio de Janeiro - RJ",telefone:"(21) 96017-4870",cep:"21670110",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Itagua\xED",endereco:"AV ISOLDACKSON CRUZ DE BRITO, 3030 LOJA B",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98519-9180",cep:"23815100",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Madureira",endereco:"RUA CAROLINA MACHADO, 458",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"21350361",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Madureira",endereco:"AV MINISTRO EDGARD ROMERO, 94",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98538-4745",cep:"21350070",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"M\xE9ier",endereco:"RUA DIAS DA CRUZ, 140",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98047-7424",cep:"20720010",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Mesquita",endereco:"RUA PRESIDENTE CASTELO BRANCO, 85",cidade:"Mesquita - RJ",telefone:"(21) 2697-5000",cep:"26582120",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Nova Igua\xE7u",endereco:"AV GOVERNADOR AMARAL PEIXOTO, 507 LOJA 7",cidade:"Nova Igua\xE7u - RJ",telefone:"",cep:"26210060",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Nova Igua\xE7u",endereco:"EST RIO SAO PAULO, 3511",cidade:"Nova Igua\xE7u - RJ",telefone:"(21) 2586-5176",cep:"26052580",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Paci\xEAncia",endereco:"RUA FERREIRA PORTO, 3 - LOJA A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99775-5260",cep:"23560070",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Paci\xEAncia",endereco:"EST SANTA EUGENIA, 94",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3256-7147",cep:"23565240",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Pavuna",endereco:"AV PASTOR MARTIN LUTHER KING JR, 14116",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"21532100",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Penha",endereco:"RUA DOS ROMEIROS, 112",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98386-8163",cep:"21070100",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Recreio",endereco:"AV DOS ARQUITETOS, 513",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99226-3699",cep:"22790120",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Recreio",endereco:"AVN GUIOMAR NOVAES, 109 LOJA E",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99222-7519",cep:"22790150",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Rio das Pedras",endereco:"AV ENGENHEIRO SOUZA FILHO, 70",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97040-5936",cep:"22753035",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Rio das Pedras",endereco:"AV ENGENHEIRO SOUZA FILHO, 444",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98127-5005",cep:"22753035",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Santa Cruz",endereco:"AV AREIA BRANCA, 2601 LOJA D",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99635-7551",cep:"23515002",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Santa Cruz",endereco:"RUA FELIPE CARDOSO, 639",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"23515290",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Sant\xEDssimo",endereco:"AV DE SANTA CRUZ, 8865",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98333-6195",cep:"23090001",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"S\xE3o Jo\xE3o de Meriti",endereco:"AV DOUTOR ARRUDA NEGREIROS, 100 LOJA C",cidade:"S\xE3o Jo\xE3o de Meriti - RJ",telefone:"(21) 3756-8408",cep:"25520150",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"S\xE3o Jo\xE3o de Meriti",endereco:"RUA DA MATRIZ, 71 CENTRO",cidade:"S\xE3o Jo\xE3o de Meriti - RJ",telefone:"",cep:"25515480",regiao:"baixada",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Sepetiba",endereco:"EST DO PIAI, 4775",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"23545470",regiao:"zona-oeste",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Tijuca",endereco:"RUA CONDE DE BONFIM, 406 LOJA D",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99208-6737",cep:"20520051",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"},{bairro:"Vila Isabel",endereco:"AV 28 DE SETEMBRO, 435",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3961-2000",cep:"20551030",regiao:"zona-norte",encarte:"15XGOcFD7aBAu8gQosSJl0gDW_61-1qBF"}],regioesCEP={"zona-sul":{inicio:22e3,fim:22999},"zona-norte":{inicio:2e4,fim:21999},"zona-oeste-1":{inicio:22700,fim:23999},"zona-oeste-2":{inicio:23e3,fim:23999},baixada:{inicio:25e3,fim:26999},"sao-goncalo":{inicio:24700,fim:24999}};function identificarRegiao(a){const b=parseInt(a.replace(/\D/g,"").substring(0,5));return 22e3<=b&&22699>=b?"zona-sul":2e4<=b&&21999>=b?"zona-norte":22700<=b&&23999>=b?"zona-oeste":25e3<=b&&26999>=b?"baixada":24700<=b&&24999>=b?"sao-goncalo":"zona-oeste"}function calcularDistanciaAproximada(a,b,c,d){const e=parseInt(a.replace(/\D/g,"")),f=parseInt(b.replace(/\D/g,"")),g=Math.abs(e-f);let h=1;if(c===d)h=.3;else{const a={"zona-sul_zona-norte":1.2,"zona-sul_zona-oeste":1.5,"zona-sul_baixada":2,"zona-sul_sao-goncalo":2.5,"zona-norte_zona-oeste":1.3,"zona-norte_baixada":1.5,"zona-norte_sao-goncalo":1.2,"zona-oeste_baixada":1.4,"zona-oeste_sao-goncalo":2,"baixada_sao-goncalo":1.8};h=a[`${c}_${d}`]||a[`${d}_${c}`]||1.5}const i=g/1e3*h;return Math.max(.5,i).toFixed(1)}async function encontrarLojasProximas(a){try{const b=await buscarCEP(a),c=identificarRegiao(a),d=[];if(lojasCumani.forEach(b=>{if(b.cep){const e=calcularDistanciaAproximada(a,b.cep,c,b.regiao);d.push({...b,distancia:parseFloat(e)})}}),d.sort((c,a)=>c.distancia-a.distancia),!verificarLojasNaRegiao(d))throw new Error("Infelizmente ainda n\xE3o temos lojas pr\xF3ximas \xE0 sua regi\xE3o.");const e=d[0],f=d.filter(a=>a.bairro===e.bairro);return{lojaPrincipal:e,lojasMesmoBairro:f,todasLojas:d.slice(0,5),enderecoUsuario:b}}catch(a){throw a}}function formatarCEP(a){return a=a.replace(/\D/g,""),5<a.length&&(a=a.substring(0,5)+"-"+a.substring(5,8)),a}async function buscarCEP(a){const b=a.replace(/\D/g,"");if(8!==b.length)throw new Error("CEP deve ter 8 d\xEDgitos");const c=await fetch(`https://viacep.com.br/ws/${b}/json/`),d=await c.json();if(d.erro)throw new Error("CEP n\xE3o encontrado");if("RJ"!==d.uf)throw new Error("Desculpe, atualmente atendemos apenas o estado do Rio de Janeiro.");return d}function verificarLojasNaRegiao(a){return!(0===a.length||50<a[0].distancia)}function criarCardLoja(a,b,c=!1){const d=a.telefone?`<a href="https://wa.me/55${a.telefone.replace(/\D/g,"")}" 
            target="_blank" 
            class="btn-phone" 
            data-analytics="whatsapp">
            <i class="bi bi-whatsapp"></i> WhatsApp
        </a>`:"",e=a.ifood?`<a href="${a.ifood}" 
            target="_blank" 
            class="btn-ifood"
            data-analytics="ifood">
            <i class="bi bi-bag-fill"></i> iFood
        </a>`:"",f=a.encarte?`<div class="encarte-wrapper">
            <a href="https://drive.google.com/file/d/${a.encarte}/preview" 
                target="_blank" 
                class="btn-encarte-top"
                data-analytics="encarte">
                <i class="bi bi-file-pdf-fill"></i> Encarte
            </a>
            <span class="encarte-text">‚Üê confira nossas promo√ß√µes</span>
        </div>`:"",g=`${a.endereco}, ${a.bairro}, ${a.cidade}`,h=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g)}`,i=c?"\uD83C\uDFEA Loja Mais Pr\xF3xima":`üè™ ${a.bairro}`;return`
        <div class="store-card ${c?"store-principal":""}">
            <div class="store-header">
                <h4>${i}</h4>
                ${f}
            </div>
            <div class="store-body">
                <p><strong>Bairro:</strong> ${a.bairro}</p>
                <p><strong>Endere√ßo:</strong> ${a.endereco}</p>
                <p><strong>Cidade:</strong> ${a.cidade}</p>
                ${a.telefone?`<p><strong>Telefone:</strong> ${a.telefone}</p>`:""}
            </div>
            <div class="store-actions">
                ${d}
                ${e}
                <a href="${h}" target="_blank" class="btn-maps">
                    <i class="bi bi-geo-alt-fill"></i> Ver no Mapa
                </a>
            </div>
        </div>
    `}function exibirResultado(a){const b=document.getElementById("cepResult"),{lojaPrincipal:c,lojasMesmoBairro:d}=a;let e=`<div class="stores-container">`;e+=criarCardLoja(c,0,!0),1<d.length&&(e+=`
            <div class="outras-lojas-bairro">
                <h4>Outras lojas em ${c.bairro}:</h4>
            </div>
        `,d.slice(1).forEach((a,b)=>{e+=criarCardLoja(a,b+1,!1)})),e+=`</div>`,b.innerHTML=e,b.classList.remove("error"),b.classList.add("active")}function exibirErro(a){const b=document.getElementById("cepResult"),c=a.includes("atendemos apenas")||a.includes("n\xE3o temos lojas pr\xF3ximas");b.innerHTML=c?`
            <div class="store-info warning-message">
                <h4>‚ö†Ô∏è Ops! Regi√£o n√£o atendida</h4>
                <p>${a}</p>
                <div class="contact-info">
                    <p>üìç Mas n√£o se preocupe! Entre em contato conosco e teremos prazer em ajud√°-lo.</p>
                </div>
            </div>
        `:`
            <div class="store-info warning-message">
                <h4>‚ùå Algo deu errado</h4>
                <p>${a}</p>
                <p>Tente novamente ou entre em contato conosco diretamente.</p>
            </div>
        `,b.classList.remove("error"),b.classList.add("active"),b.scrollIntoView({behavior:"smooth",block:"nearest"})}document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("cepInput"),b=document.getElementById("searchCepBtn"),c=document.getElementById("cepLoading"),d=document.getElementById("cepResult");a&&b&&(a.addEventListener("input",function(a){a.target.value=formatarCEP(a.target.value)}),a.addEventListener("keypress",function(a){"Enter"===a.key&&b.click()}),b.addEventListener("click",async function(){const e=a.value.replace(/\D/g,"");if(d.classList.remove("active"),d.classList.remove("error"),d.innerHTML="",!e||""===e.trim())return void exibirErro("Por favor, digite um CEP.");if(8>e.length)return void exibirErro("Por favor, digite um CEP completo com 8 d\xEDgitos.");if(8!==e.length)return void exibirErro("Por favor, digite um CEP v\xE1lido com 8 d\xEDgitos.");c.classList.add("active"),d.classList.remove("active"),b.disabled=!0;try{const a=await encontrarLojasProximas(e);if(!a.lojaPrincipal)throw new Error("Nenhuma loja encontrada pr\xF3xima ao seu CEP.");exibirResultado(a)}catch(a){console.error("Erro:",a),exibirErro(a.message||"N\xE3o foi poss\xEDvel buscar o CEP. Verifique e tente novamente.")}finally{c.classList.remove("active"),b.disabled=!1}}))});
