/*
 * Obfuscated & Protected by Igor Ferraz dos Santos and <DEV¬≥>
 * Date: 2025-01-11
 * ¬© All Rights Reserved - Farma<Dev¬≥> Project
 * Unauthorized copying, modification, or distribution is strictly prohibited.
 * For licensing: igor.ferraz.trab10@gmail.com  and dev3company@gmail.com
 */
const lojasCumani=[{bairro:"Alc\xE2ntara",endereco:"RUA YOLANDA SAAD ABUSAID, 80 LOJA 09",cidade:"S\xE3o Gon\xE7alo - RJ",telefone:"(21) 99320-0614",cep:"24710460",ifood:"https://www.ifood.com.br/delivery/sao-goncalo-rj/drogarias-cumani-alcantara-alcantara/4e6eacd9-d9ae-4d19-ad33-f0e2d8e0b294"},{bairro:"Anil",endereco:"EST DE JACAREPAGUA, 5940",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97780-4000",cep:"22750003",ifood:"https://www.ifood.com.br/delivery/rio-de-janeiro-rj/cumani-anil-anil/bb8cae1c-566e-4c26-a641-503b167ba3c8"},{bairro:"Bangu",endereco:"RUA PROFESSOR CLEMENTE FERREIRA, 1882",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99996-1900",cep:"21810240"},{bairro:"Bangu",endereco:"RUA SILVA CARDOSO, 436",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99996-1900",cep:"21820240"},{bairro:"Barra da Tijuca",endereco:"AV DAS AMERICAS, 7607",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97058-7239",cep:"22793081"},{bairro:"Belford Roxo",endereco:"AV JOAQUIM DA COSTA LIMA, 2025",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97936-9200",cep:"26130070"},{bairro:"Belford Roxo",endereco:"AV BENJAMIM PINTO DIAS, 1739",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"26130000"},{bairro:"Botafogo",endereco:"RUA VOLUNTARIOS DA PATRIA, 265",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97525-4664",cep:"22270000"},{bairro:"Campo Grande",endereco:"ESTRADA DA POSSE, 558 - LOJA C",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97031-1112",cep:"23012231"},{bairro:"Campo Grande",endereco:"EST CARVALHO RAMOS, 2005",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3407-7272",cep:"23087000"},{bairro:"Campo Grande",endereco:"AV CESARIO DE MELO, 13904",cidade:"Rio de Janeiro - RJ",telefone:"(21) 96489-8202",cep:"23052102"},{bairro:"Campo Grande",endereco:"AV DE SANTA CRUZ, 12296",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3268-6490",cep:"23570000"},{bairro:"Campo Grande",endereco:"ESTRADA SANTA MARIA, 755 - LOJA C",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"23056090"},{bairro:"Catete",endereco:"RUA DO CATETE, 234 - LOJA A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99054-3443",cep:"22220001"},{bairro:"Copacabana",endereco:"AV NOSSA SENHORA DE COPACABANA, 558A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3795-4352",cep:"22020001"},{bairro:"Copacabana",endereco:"RUA BARATA RIBEIRO, 157",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99361-9252",cep:"22040001"},{bairro:"Cosmos",endereco:"RUA ACAUA, 143 - LOJ A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 96850-8118",cep:"23063160"},{bairro:"Cosmos",endereco:"EST DO ENCANAMENTO, 410",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98119-5537",cep:"23063030"},{bairro:"Duque de Caxias",endereco:"AV NILO PECANHA, 189",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3848-0027",cep:"25070250"},{bairro:"Duque de Caxias",endereco:"RUA PRESIDENTE ROOSEVELT, 136 -LOJA B",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98669-0129",cep:"25071190"},{bairro:"Guadalupe",endereco:"R MARCOS DE MACEDO, 394",cidade:"Rio de Janeiro - RJ",telefone:"(21) 96017-4870",cep:"21670110"},{bairro:"Itabora\xED",endereco:"R ARTHUR SOUTO, 198, LOJA 03 E 04",cidade:"Itabora\xED - RJ",telefone:"(21) 96473-3542",cep:"24800390"},{bairro:"Itagua\xED",endereco:"AV ISOLDACKSON CRUZ DE BRITO, 3030 LOJA B",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98519-9180",cep:"23815100"},{bairro:"Madureira",endereco:"RUA CAROLINA MACHADO, 458",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"21350361"},{bairro:"Madureira",endereco:"AV MINISTRO EDGARD ROMERO, 94",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98538-4745",cep:"21350070"},{bairro:"M\xE9ier",endereco:"RUA DIAS DA CRUZ, 140",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98047-7424",cep:"20720010"},{bairro:"Mesquita",endereco:"RUA PRESIDENTE CASTELO BRANCO, 85",cidade:"Mesquita - RJ",telefone:"(21) 2697-5000",cep:"26582120"},{bairro:"Nova Igua\xE7u",endereco:"AV GOVERNADOR AMARAL PEIXOTO, 507 LOJA 7",cidade:"Nova Igua\xE7u - RJ",telefone:"",cep:"26210060"},{bairro:"Nova Igua\xE7u",endereco:"EST RIO SAO PAULO, 3511",cidade:"Nova Igua\xE7u - RJ",telefone:"(21) 2586-5176",cep:"26052580"},{bairro:"Paci\xEAncia",endereco:"RUA FERREIRA PORTO, 3 - LOJA A",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99775-5260",cep:"23560070"},{bairro:"Paci\xEAncia",endereco:"EST SANTA EUGENIA, 94",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3256-7147",cep:"23565240"},{bairro:"Pavuna",endereco:"AV PASTOR MARTIN LUTHER KING JR, 14116",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"21532100"},{bairro:"Penha",endereco:"RUA DOS ROMEIROS, 112",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98386-8163",cep:"21070100"},{bairro:"Recreio",endereco:"AV DOS ARQUITETOS, 513",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99226-3699",cep:"22790120"},{bairro:"Recreio",endereco:"AVN GUIOMAR NOVAES, 109 LOJA E",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99222-7519",cep:"22790150"},{bairro:"Rio das Pedras",endereco:"AV ENGENHEIRO SOUZA FILHO, 70",cidade:"Rio de Janeiro - RJ",telefone:"(21) 97040-5936",cep:"22753035"},{bairro:"Rio das Pedras",endereco:"AV ENGENHEIRO SOUZA FILHO, 444",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98127-5005",cep:"22753035"},{bairro:"Santa Cruz",endereco:"AV AREIA BRANCA, 2601 LOJA D",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99635-7551",cep:"23515002"},{bairro:"Santa Cruz",endereco:"RUA FELIPE CARDOSO, 639",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"23515290"},{bairro:"Sant\xEDssimo",endereco:"AV DE SANTA CRUZ, 8865",cidade:"Rio de Janeiro - RJ",telefone:"(21) 98333-6195",cep:"23090001"},{bairro:"S\xE3o Jo\xE3o de Meriti",endereco:"AV DOUTOR ARRUDA NEGREIROS, 100 LOJA C",cidade:"S\xE3o Jo\xE3o de Meriti - RJ",telefone:"(21) 3756-8408",cep:"25520150"},{bairro:"S\xE3o Jo\xE3o de Meriti",endereco:"RUA DA MATRIZ, 71 CENTRO",cidade:"S\xE3o Jo\xE3o de Meriti - RJ",telefone:"",cep:"25515480"},{bairro:"Sepetiba",endereco:"EST DO PIAI, 4775",cidade:"Rio de Janeiro - RJ",telefone:"",cep:"23545470"},{bairro:"Tijuca",endereco:"RUA CONDE DE BONFIM, 406 LOJA D",cidade:"Rio de Janeiro - RJ",telefone:"(21) 99208-6737",cep:"20520051"},{bairro:"Vila Isabel",endereco:"AV 28 DE SETEMBRO, 435",cidade:"Rio de Janeiro - RJ",telefone:"(21) 3961-2000",cep:"20551030"}];function calcularDistancia(a,b){const c=parseInt(a.replace(/\D/g,"")),d=parseInt(b.replace(/\D/g,"")),e=Math.abs(c-d);return(e/1e3).toFixed(1)}function encontrarLojaMaisProxima(a){let b=null,c=1/0;return lojasCumani.forEach(d=>{if(d.cep){const e=parseFloat(calcularDistancia(a,d.cep));e<c&&(c=e,b=d)}}),{loja:b,distancia:c}}function formatarCEP(a){return a=a.replace(/\D/g,""),5<a.length&&(a=a.substring(0,5)+"-"+a.substring(5,8)),a}async function buscarCEP(a){const b=a.replace(/\D/g,"");if(8!==b.length)throw new Error("CEP deve ter 8 d\xEDgitos");const c=await fetch(`https://viacep.com.br/ws/${b}/json/`),d=await c.json();if(d.erro)throw new Error("CEP n\xE3o encontrado");return d}


// Fun√ß√£o para exibir resultado
function exibirResultado(cepData, lojaMaisProxima) {
    const resultDiv = document.getElementById('cepResult');
    
    // Criar link do WhatsApp (remove caracteres especiais e adiciona c√≥digo do pa√≠s)
    const whatsappLink = lojaMaisProxima.loja.telefone ? 
        `<a href="https://wa.me/55${lojaMaisProxima.loja.telefone.replace(/\D/g, '')}" 
            target="_blank" 
            class="btn-phone" 
            data-analytics="whatsapp">
            <i class="bi bi-whatsapp"></i> WhatsApp
        </a>` : '';
    
    // Criar link do iFood (se existir)
    const ifoodLink = lojaMaisProxima.loja.ifood ? 
        `<a href="${lojaMaisProxima.loja.ifood}" 
            target="_blank" 
            class="btn-ifood"
            data-analytics="ifood">
            <i class="bi bi-bag-fill"></i> iFood
        </a>` : '';
    
    const enderecoMaps = `${lojaMaisProxima.loja.endereco}, ${lojaMaisProxima.loja.bairro}, ${lojaMaisProxima.loja.cidade}`;
    const mapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(enderecoMaps)}`;
    
    resultDiv.innerHTML = `
        <div class="store-info">
            <h4>üè™ Loja Mais Pr√≥xima</h4>
            <p><strong>Bairro:</strong> ${lojaMaisProxima.loja.bairro}</p>
            <p><strong>Endere√ßo:</strong> ${lojaMaisProxima.loja.endereco}</p>
            <p><strong>Cidade:</strong> ${lojaMaisProxima.loja.cidade}</p>
            ${lojaMaisProxima.loja.telefone ? `<p><strong>Telefone:</strong> ${lojaMaisProxima.loja.telefone}</p>` : ''}
            <div class="store-distance">
                üìç Dist√¢ncia aproximada: ~${lojaMaisProxima.distancia} km
            </div>
            <div class="store-actions">
                ${whatsappLink}
                ${ifoodLink}
                <a href="${mapsUrl}" target="_blank" class="btn-maps">
                    <i class="bi bi-geo-alt-fill"></i> Ver no Mapa
                </a>
            </div>
        </div>
    `;
    
    resultDiv.classList.remove('error');
    resultDiv.classList.add('active');
}

function exibirErro(a){const b=document.getElementById("cepResult");b.innerHTML=`
        <div class="store-info">
            <h4>‚ùå Ops! Algo deu errado</h4>
            <p>${a}</p>
            <p>Tente novamente ou entre em contato conosco diretamente.</p>
        </div>
    `,b.classList.add("error"),b.classList.add("active")}document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("cepInput"),b=document.getElementById("searchCepBtn"),c=document.getElementById("cepLoading"),d=document.getElementById("cepResult");a&&b&&(a.addEventListener("input",function(a){a.target.value=formatarCEP(a.target.value)}),a.addEventListener("keypress",function(a){"Enter"===a.key&&b.click()}),b.addEventListener("click",async function(){const e=a.value.replace(/\D/g,"");if(8!==e.length)return void exibirErro("Por favor, digite um CEP v\xE1lido com 8 d\xEDgitos.");c.classList.add("active"),d.classList.remove("active"),b.disabled=!0;try{const a=await buscarCEP(e),b=encontrarLojaMaisProxima(e);if(!b.loja)throw new Error("Nenhuma loja encontrada pr\xF3xima ao seu CEP.");exibirResultado(a,b)}catch(a){exibirErro(a.message||"N\xE3o foi poss\xEDvel buscar o CEP. Verifique e tente novamente.")}finally{c.classList.remove("active"),b.disabled=!1}}))});
